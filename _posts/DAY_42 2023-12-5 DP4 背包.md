其实掌握01背包，和完全背包，就够用了，最多可以再来一个多重背包。背包问题的理论基础重中之重是01背包，一定要理解透！

<img width="732" alt="image" src="https://github.com/fifi1120/coding_study_blog/assets/98888516/349192d4-aba0-4f3e-a1ab-58978b3e03b6">


<img width="631" alt="image" src="https://github.com/fifi1120/coding_study_blog/assets/98888516/b76ae05a-9575-4672-a85c-915b2ac622f6">



# 五步法

1. 确定dp[i][j]的含义：dp[i][j] 表示从下标为[0-i]的物品里任意取，放进容量为j的背包，价值总和最大是多少。

2. 确定递推公式：
假设此时背包里已经放了一些东西了：物品已有i-1个（背包里已有j-weight[i]）现在要考虑是否放入物品i，有2种可能：

2.1 不放物品i：由dp[i - 1][j]推出，即背包容量为j，里面不放物品i的最大价值，此时dp[i][j]就是dp[i - 1][j]。(其实就是当物品i的重量大于背包j的重量时，物品i无法放进背包中，所以背包内的价值依然和前面相同。)

2.2 放物品i：由dp[i - 1][j - weight[i]]推出，dp[i - 1][j - weight[i]] 为背包容量为j - weight[i]的时候不放物品i的最大价值，那么dp[i - 1][j - weight[i]] + value[i] （物品i的价值），就是背包放物品i得到的最大价值

所以递归公式： dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] + value[i]); 即dp[i][j]就是找到放或不放i，哪个达到的价值更大。

3. 初始化：dp[i][j]永远是从左上角推导出来的，所以要初始化第一行和第一列。
   
<img width="221" alt="image" src="https://github.com/fifi1120/coding_study_blog/assets/98888516/66aecf75-bdea-4911-9c1c-83a1ed9591a4">

<img width="600" alt="image" src="https://github.com/fifi1120/coding_study_blog/assets/98888516/da0d4a67-596b-4493-bfee-592f1a85f8db">

4. 确定遍历顺序：从左到右，从上到下，因此2个for loop，物品重量在外for(int i = 1; i < weight.size(); i++)或者背包重量在外for(int j = 0; j <= bagweight; j++) 都可以。
   
5. 举例推导dp表格：<img width="587" alt="image" src="https://github.com/fifi1120/coding_study_blog/assets/98888516/d31a42dd-a6e9-4606-be3d-de09fbe0da2f">

## 代码：
```
def test_2_wei_bag_problem1(weight, value, bagweight):
    # 二维数组
    dp = [[0] * (bagweight + 1) for _ in range(len(weight))]

    # 初始化
    for j in range(weight[0], bagweight + 1):
        dp[0][j] = value[0]

    # weight数组的大小就是物品个数
    for i in range(1, len(weight)):  # 遍历物品
        for j in range(bagweight + 1):  # 遍历背包容量
            if j < weight[i]:
                dp[i][j] = dp[i - 1][j]
            else:
                dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] + value[i])

    return dp[len(weight) - 1][bagweight]

if __name__ == "__main__":

    weight = [1, 3, 4]
    value = [15, 20, 30]
    bagweight = 4

    result = test_2_wei_bag_problem1(weight, value, bagweight)
    print(result)
```






